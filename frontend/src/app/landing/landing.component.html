<body class="bg-dark">
<app-navbar></app-navbar>


<div class="container m-2 w-[80vw] block mx-auto justify-center items-center">
<div class="mb-3">
  <div class="relative mb-4 flex w-full flex-wrap items-stretch">
    <input
      type="text"
      class="relative m-0 -mr-0.5 block w-[1px] min-w-0 flex-auto rounded-l border border-solid border-neutral-300 bg-transparent bg-clip-padding px-3 py-[0.25rem] text-base font-normal leading-[1.6] text-neutral-700 outline-none transition duration-200 ease-in-out focus:z-[3] focus:border-primary focus:text-neutral-700 focus:shadow-[inset_0_0_0_1px_rgb(59,113,202)] focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:placeholder:text-neutral-200 dark:focus:border-primary"
      placeholder="Search"
      aria-label="Search"
      aria-describedby="button-addon1"

     [(ngModel)]="searchText " 
    />

    <!-- Search button -->
    <button
      class="relative z-[2] flex items-center rounded-r bg-primary px-6 py-2.5 text-xs font-medium uppercase leading-tight text-white shadow-md transition duration-150 ease-in-out hover:bg-primary-700 hover:shadow-lg focus:bg-primary-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-primary-800 active:shadow-lg"
      type="button"
      id="button-addon1"
      data-te-ripple-init
      data-te-ripple-color="light"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 20 20"
        fill="currentColor"
        class="h-5 w-5"
      >
        <path
          fill-rule="evenodd"
          d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"
          clip-rule="evenodd"
        />
      </svg>
    </button>
  </div>
</div>
</div>




<div style="background-image: url('https://image.kilimall.com/kenya/shop/activity/x9ya31ad2Eqv3wcZeReJK1GPhDI7kKxomEHScfK8.gif'); ">


<div   class="flex flex-row ..." style="  margin: 0 30px; ">
  <div class="basis-1/4 bg"></div>
  <div><app-carousel></app-carousel></div>
  <div class="basis-1/4 bg"></div>
</div>

<div class="container m-2 w-[60vw] block mx-auto justify-center items-center ">
  <div class="flex flex-wrap justify-between">

    <!-- Image 1 -->
    <div class="w-full sm:w-48 md:w-1/4 lg:w-1/5 xl:w-1/6 mb-4">
        <img src="https://image.kilimall.com/kenya/shop/adv/1bc6df5290b296608e9faf78eb218ed5.jpg.webp" alt="Image 1" class="w-full h-auto rounded">
    </div>

    <!-- Image 2 -->
    <div class="w-full sm:w-48 md:w-1/4 lg:w-1/5 xl:w-1/6 mb-4">
        <img src="https://image.kilimall.com/kenya/shop/adv/ef1360aca15cacbf48bcd8dd43c91773.jpg.webp" alt="Image 2" class="w-full h-auto rounded">
    </div>

    <!-- Image 3 -->
    <div class="w-full sm:w-48 md:w-1/4 lg:w-1/5 xl:w-1/6 mb-4">
        <img src="https://image.kilimall.com/kenya/shop/adv/081a0735ea8959242133a3f64d11c4a3.jpg.webp" alt="Image 3" class="w-full h-auto rounded">
    </div>

    <!-- Image 4 -->
    <div class="w-full sm:w-48 md:w-1/4 lg:w-1/5 xl:w-1/6 mb-4">
        <img src="https://image.kilimall.com/kenya/shop/adv/e232647ddfd25b7725894721ed2a4308.jpg.webp" alt="Image 4" class="w-full h-auto rounded">
    </div>

</div>
</div>
<div class="container m-2 w-[60vw] block mx-auto justify-center items-center">
  <div class="flex flex-wrap -mx-4">

    <div *ngFor="let category of categories" class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4 px-4 mb-4">
      <a [routerLink]="['/category', category.category_id]" routerLinkActive="text-white" class="block w-full bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition duration-300 ease-in-out">
        <img [src]="category.category_image" alt="{{ category.category_name }}" class="w-full h-40 object-cover object-center">
        <div class="p-4">
          <p class="text-lg font-bold mb-2">{{ category.category_name }}</p>
        </div>
      </a>
    </div>

  </div>
</div>

</div>

<section style="background-color: white;">
  <div class="container m-2 w-[60vw] block mx-auto justify-center items-center">
    <h1 class="text-2xl font-bold">ALL PRODUCTS</h1>

    <div class="flex flex-wrap -mx-4">
                
    <div *ngFor="let product of products | customFilterPipe : searchText let i = index" class="flex-shrink-0 w-64 bg-white mr-4 rounded-lg shadow-md m-2 ">
      <a [routerLink]="['/product', product.product_id]">
      <img src="{{product.image}}" alt="Product 1" class="w-full h-40 object-cover mb-4 rounded-md">
    </a>
        <div class="p-2">
            <h3 class="text-lg font-bold mb-2">{{product.name.slice(0,30)}}..</h3>
            <!-- <p class="text-gray-700">{{product.description.slice(0,30)}}...</p> -->
            <div class="mt-2 flex items-center">
              <span class="text-green-500 font-bold mr-2">Ksh {{product.price}}</span>
              <span class="text-gray-500 line-through">Ksh {{ product.price + (product.price * (product.discount / 100)) }}</span>
            </div>
            <!-- <div class="flex items-center mt-2">
              <div class="text-yellow-500">
                ★★★★☆ <!-- Replace with your star rating logic 
              </div>
              <span class="text-gray-500 ml-2">(120 reviews)</span>
            </div> -->
            <button *ngIf="product.countInStock > 0"
              (click)="addToCart(product)"
              class="w-full bg-green-500 text-white py-2 px-4 rounded-md hover:bg-green-600 focus:outline-none focus:ring focus:border-green-400">
          Add to Cart
      </button>
      
      <!-- If product is out of stock, show a disabled Out of Stock button -->
      <button *ngIf="product.countInStock === 0"
              class="w-full bg-red-500 text-white py-2 px-4 rounded-md cursor-not-allowed opacity-50"
              [disabled]="true">
          Out of Stock
      </button>
          

         
        </div>
    
     
    </div>



    


  </div>
  </div>
</section>



<app-footer></app-footer>

</body>